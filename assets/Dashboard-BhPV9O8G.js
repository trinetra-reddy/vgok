import{c as g,r as o,u as f,j as e,C as y,A as v,O as T}from"./index-BFFADSzA.js";import{L as w}from"./list-CsA-yPti.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],S=g("circle-x",A);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],z=g("loader-circle",k);function B(){const[n,l]=o.useState(!1),[i,r]=o.useState(null),[x,c]=o.useState(null),{user:t}=f();return{request:async s=>{const{url:h,method:b="GET",body:j,headers:N={...(t==null?void 0:t.token)&&{Authorization:`Bearer ${t==null?void 0:t.token}`}},onSuccess:m,onError:u}=s;l(!0),c(null);try{const a=await fetch(`https://vgok.onrender.com/api${h}`,{method:b,headers:{"Content-Type":"application/json",...N},body:b==="GET"?void 0:JSON.stringify(j)}),d=await a.json();if(!a.ok)throw d;return r(d),m==null||m(d),d}catch(a){throw c(a),u==null||u(a),a}finally{l(!1)}},data:i,error:x,loading:n}}const $=()=>{var t,p;const{request:n}=B(),[l,i]=o.useState(!0),[r,x]=o.useState({totalTopics:0,pendingTopics:0,approvedTopics:0,rejectedTopics:0,latestApproved:[]});o.useEffect(()=>{n({url:"/posts/dashboard/summary",method:"GET",onSuccess:s=>{x(s),i(!1)}})},[]);const c=[{label:"Total Topic",value:r.totalTopics,icon:e.jsx(w,{size:20,className:"text-blue-500"}),border:"border-blue-100",text:"text-blue-500",arrow:"text-blue-500",iconBorder:"border border-blue-500"},{label:"Pending Topic",value:r.pendingTopics,icon:e.jsx(z,{size:20,className:"text-orange-400"}),border:"border-orange-100",text:"text-orange-400",arrow:"text-orange-400",iconBorder:"border border-orange-400"},{label:"Approved Topic",value:r.approvedTopics,icon:e.jsx(y,{size:20,className:"text-green-500"}),border:"border-green-100",text:"text-green-500",arrow:"text-green-500",iconBorder:"border border-green-500"},{label:"Rejected Topic",value:r.rejectedTopics,icon:e.jsx(S,{size:20,className:"text-red-400"}),border:"border-red-100",text:"text-red-400",arrow:"text-red-400",iconBorder:"border border-red-400"}];return e.jsxs("div",{className:"min-h-screen bg-[#f9f9fb] flex flex-col md:flex-row gap-6 w-full",children:[e.jsxs("main",{className:"flex-1 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:c.map((s,h)=>e.jsxs("div",{className:`flex items-center justify-between p-4 bg-white rounded-lg shadow-sm border ${s.border}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded bg-opacity-10 ${s.text} ${s.iconBorder}`,children:s.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-semibold",children:s.value}),e.jsx("div",{className:"text-sm text-gray-500",children:s.label})]})]}),e.jsx(v,{size:18,className:`${s.arrow} ${s.iconBorder} rounded-full p-1`})]},h))}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"py-4 font-bold text-gray-700 border-b",children:"Latest Approved Topics"}),e.jsx("div",{className:"overflow-x-auto bg-white rounded-xl shadow",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-blue-950 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3",children:"TITLE"}),e.jsx("th",{className:"px-6 py-3",children:"SUBCATEGORY"}),e.jsx("th",{className:"px-6 py-3",children:"UP - DOWN VOTE"}),e.jsx("th",{className:"px-6 py-3",children:"ACTION"})]})}),e.jsx("tbody",{children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center py-6 text-gray-500",children:"Loading..."})}):((t=r==null?void 0:r.latestApproved)==null?void 0:t.length)===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center py-6 text-gray-500",children:"ðŸ˜ž No data found"})}):(p=r==null?void 0:r.latestApproved)==null?void 0:p.map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-6 py-4",children:s.title}),e.jsx("td",{className:"px-6 py-4",children:s.subcategory||"â€”"}),e.jsxs("td",{className:"px-6 py-4 flex gap-2",children:[e.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:["â†‘ ",s.upvotes||0]}),e.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:["â†“ ",s.downvotes||0]})]}),e.jsx("td",{className:"px-6 py-4",children:"..."})]},s.id))})]})})]})]}),e.jsx(T,{})]})};export{$ as default};
