import{a as u,u as g}from"./button-DbKxpifn.js";import{f as a,a as y}from"./index-CyUtciDf.js";const s="https://vgok.onrender.com/api",h=async(e,t)=>a(`${s}/categories/create`,"POST",t,e),$=async(e,t,r)=>a(`${s}/categories/update/${e}`,"PUT",r,t),d=async(e,t)=>a(`${s}/categories/delete/${e}`,"DELETE",t),l=async(e,t=10,r=0)=>{const n=`${s}/categories?limit=${t}&offset=${r}`;return a(n,"GET",e)},f=({token:e,limit:t=100,offset:r=0})=>{const n=y(),o=u({queryKey:["categories",t,r],queryFn:()=>l(e||"",t,r).then(i=>i.data||[]),enabled:!!e,staleTime:1e3*60*5}),c=g({mutationFn:i=>{if(!e)throw new Error("Token missing");return d(i,e)},onSuccess:()=>{n.invalidateQueries({queryKey:["categories"]})}});return{categories:o.data||[],isLoading:o.isLoading,isDeleting:c.isPending,deleteCategory:c.mutateAsync,refetchCategories:o.refetch}};export{f as a,h as c,$ as u};
