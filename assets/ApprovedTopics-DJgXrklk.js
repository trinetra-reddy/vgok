import{r as s,j as a}from"./index-BFFADSzA.js";import{b as C}from"./button-Bk2Magj1.js";import{u as S,T as L}from"./TopicTable-DmiyGlGN.js";import{g as j}from"./useUserToken-XQpUb8zr.js";import{a as y}from"./useCategories-Dx5EoVpB.js";import"./list-CsA-yPti.js";const r=10,k=()=>{const[i,m]=s.useState(1),[c,g]=s.useState(""),l=j(),{data:o,isLoading:u,refetch:h}=S("approved",r,(i-1)*r),{categories:f,isLoading:T}=y({token:l}),t=s.useMemo(()=>Array.isArray(o==null?void 0:o.data)?o.data:[],[o]),x=s.useMemo(()=>{const e=c.toLowerCase();return t.filter(n=>{var p,d;return((p=n.title)==null?void 0:p.toLowerCase().includes(e))||((d=n.content)==null?void 0:d.toLowerCase().includes(e))})},[t,c]);return a.jsxs("div",{className:"space-y-6",children:[a.jsx(C,{title:"Approved Topics",searchPlaceholder:"Search by topic",onSearch:e=>g(e)}),a.jsx(L,{data:x,loading:u,onRefresh:()=>h(),page:i,pageSize:r,totalCount:t.length,onPageChange:e=>m(e),categories:f,isCategoryLoading:T})]})};export{k as default};
