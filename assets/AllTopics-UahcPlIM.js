import{r as a,j as s}from"./index-BPKX_cgv.js";import{a as A}from"./button-DZgg7u2Y.js";import{C as T}from"./CommonDialog-B8uZeMNL.js";import{u as j,T as x}from"./TopicTable-CwauvPGt.js";import"./DeleteAlert-CxMyO-el.js";import"./useMutation-DH1_dSWY.js";import"./useUserToken-GJF2sMhJ.js";const l=10,R=()=>{const[o,m]=a.useState("All"),[c,h]=a.useState(1),[i,g]=a.useState(""),S=[{label:"All",value:""},{label:"Pending",value:"pending"},{label:"Approved",value:"approved"},{label:"Rejected",value:"rejected"}],{data:t,isLoading:C,refetch:r}=j(o!=="All"?o:void 0,l,(c-1)*l),n=a.useMemo(()=>Array.isArray(t==null?void 0:t.data)?t.data:[],[t]),v=a.useMemo(()=>{const e=i.toLowerCase();return n.filter(p=>{var u,d;return((u=p.title)==null?void 0:u.toLowerCase().includes(e))||((d=p.content)==null?void 0:d.toLowerCase().includes(e))})},[n,i]),f=e=>{g(e)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(A,{title:"All Topics",searchPlaceholder:"Search by topic",onSearch:f,statusValue:o,onStatusChange:m,onStatusClick:()=>r(),statusOptions:S,createButton:s.jsx(T,{onCreateOrUpdate:()=>r(),type:"add",onCreate:async()=>Promise.resolve(),onUpdate:async()=>Promise.resolve()})}),s.jsx(x,{data:v,loading:C,onRefresh:()=>r(),page:c,pageSize:l,totalCount:n.length,onPageChange:e=>h(e)})]})};export{R as default};
