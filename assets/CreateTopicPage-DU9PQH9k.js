import{u as h,r as c,j as e,L as g}from"./index-DXQT00w1.js";import{u as j}from"./UseApi-Bh--mRAK.js";import{P as f}from"./pencil-kfQNK1sg.js";const w=()=>{const m=h(),{request:u,loading:i}=j(),[s,x]=c.useState({image:"",forum:"",title:"",tags:"",video_url:"",description:""}),[t,n]=c.useState({}),b=()=>{const r={};return s.forum||(r.forum="Forum is required"),s.title.trim()||(r.title="Title is required"),s.tags.trim()||(r.tags="Tags are required"),r},a=r=>{const{name:l,value:d}=r.target;x(o=>({...o,[l]:d})),n(o=>({...o,[l]:""}))},p=async r=>{r.preventDefault();const l=b();if(Object.keys(l).length>0){n(l);return}const d={...s,tags:[s==null?void 0:s.tags]};try{await u({url:"/posts/create",method:"POST",body:d}),m("/user/dashboard/mytopics")}catch(o){console.log(o.message||"Submission failed")}};return e.jsxs("div",{className:"bg-white rounded-xl shadow space-y-6 flex flex-col w-full",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-300 p-2",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Topic Form"}),e.jsx(g,{to:"/user/dashboard/mytopics",className:"border border-[#4269c2] text-[#4269c2] px-4 py-2 rounded hover:bg-[#4269c2] hover:text-white text-sm",children:"My Topics"})]}),e.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-3",onSubmit:p,children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image"}),e.jsx("img",{src:"https://via.placeholder.com/380x315",alt:"Preview",className:"rounded border border-gray-300 min-h-[85%]"}),e.jsx("button",{type:"button",className:"absolute bottom-2 right-2 bg-[#4269c2] text-white p-2 rounded-full shadow",children:e.jsx(f,{size:14})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Forum",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"forum",value:s.forum,onChange:a,className:`w-full border rounded px-3 py-2 ${t.forum?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select One"}),e.jsx("option",{value:"BTC",children:"BTC"}),e.jsx("option",{value:"ETH",children:"ETH"})]}),t.forum&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.forum})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Title",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:a,className:`w-full border rounded px-3 py-2 ${t.title?"border-red-500":"border-gray-300"}`}),t.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.title})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Tags",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"tags",value:s.tags,onChange:a,className:`w-full border rounded px-3 py-2 ${t.tags?"border-red-500":"border-gray-300"}`}),t.tags&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.tags})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Video URL"}),e.jsx("input",{type:"text",name:"video_url",value:s.video_url,onChange:a,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx("textarea",{name:"description",rows:6,value:s.description,onChange:a,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-[#4269c2] hover:bg-[#2f55a3] text-white py-2 rounded font-semibold",children:i?"Submitting...":"Submit"})})]})]})};export{w as default};
