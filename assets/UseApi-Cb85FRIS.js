import{r as n,a as k}from"./index-JUF0fiuQ.js";function A(){const[c,s]=n.useState(!1),[l,d]=n.useState(null),[h,i]=n.useState(null),{user:t}=k();return{request:async p=>{const{url:f,method:u="GET",body:y,headers:g={...(t==null?void 0:t.token)&&{Authorization:`Bearer ${t==null?void 0:t.token}`}},onSuccess:a,onError:r}=p;s(!0),i(null);try{const e=await fetch(`https://vgok.onrender.com/api${f}`,{method:u,headers:{"Content-Type":"application/json",...g},body:u==="GET"?void 0:JSON.stringify(y)}),o=await e.json();if(!e.ok)throw o;return d(o),a==null||a(o),o}catch(e){throw i(e),r==null||r(e),e}finally{s(!1)}},data:l,error:h,loading:c}}export{A as u};
