import{c as b,r as o,u as N,j as e,C as f,A as v,O as T}from"./index-CyUtciDf.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],k=b("circle-x",w);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],A=b("list",z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$=b("loader-circle",S);function B(){const[n,l]=o.useState(!1),[i,t]=o.useState(null),[x,d]=o.useState(null),{user:r}=N();return{request:async s=>{const{url:h,method:j="GET",body:g,headers:y={...(r==null?void 0:r.token)&&{Authorization:`Bearer ${r==null?void 0:r.token}`}},onSuccess:m,onError:u}=s;l(!0),d(null);try{const a=await fetch(`https://vgok.onrender.com/api${h}`,{method:j,headers:{"Content-Type":"application/json",...y},body:j==="GET"?void 0:JSON.stringify(g)}),c=await a.json();if(!a.ok)throw c;return t(c),m==null||m(c),c}catch(a){throw d(a),u==null||u(a),a}finally{l(!1)}},data:i,error:x,loading:n}}const C=()=>{var r,p;const{request:n}=B(),[l,i]=o.useState(!0),[t,x]=o.useState({totalTopics:0,pendingTopics:0,approvedTopics:0,rejectedTopics:0,latestApproved:[]});o.useEffect(()=>{n({url:"/posts/dashboard/summary",method:"GET",onSuccess:s=>{x(s),i(!1)}})},[]);const d=[{label:"Total Topic",value:t.totalTopics,icon:e.jsx(A,{size:20,className:"text-blue-500"}),border:"border-blue-100",text:"text-blue-500",arrow:"text-blue-500",iconBorder:"border border-blue-500"},{label:"Pending Topic",value:t.pendingTopics,icon:e.jsx($,{size:20,className:"text-orange-400"}),border:"border-orange-100",text:"text-orange-400",arrow:"text-orange-400",iconBorder:"border border-orange-400"},{label:"Approved Topic",value:t.approvedTopics,icon:e.jsx(f,{size:20,className:"text-green-500"}),border:"border-green-100",text:"text-green-500",arrow:"text-green-500",iconBorder:"border border-green-500"},{label:"Rejected Topic",value:t.rejectedTopics,icon:e.jsx(k,{size:20,className:"text-red-400"}),border:"border-red-100",text:"text-red-400",arrow:"text-red-400",iconBorder:"border border-red-400"}];return e.jsxs("div",{className:"min-h-screen bg-[#f9f9fb] flex flex-col md:flex-row gap-6 w-full",children:[e.jsxs("main",{className:"flex-1 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:d.map((s,h)=>e.jsxs("div",{className:`flex items-center justify-between p-4 bg-white rounded-lg shadow-sm border ${s.border}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded bg-opacity-10 ${s.text} ${s.iconBorder}`,children:s.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-semibold",children:s.value}),e.jsx("div",{className:"text-sm text-gray-500",children:s.label})]})]}),e.jsx(v,{size:18,className:`${s.arrow} ${s.iconBorder} rounded-full p-1`})]},h))}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"py-4 font-bold text-gray-700 border-b",children:"Latest Approved Topics"}),e.jsx("div",{className:"overflow-x-auto bg-white rounded-xl shadow",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-blue-950 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3",children:"TITLE"}),e.jsx("th",{className:"px-6 py-3",children:"SUBCATEGORY"}),e.jsx("th",{className:"px-6 py-3",children:"UP - DOWN VOTE"}),e.jsx("th",{className:"px-6 py-3",children:"ACTION"})]})}),e.jsx("tbody",{children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center py-6 text-gray-500",children:"Loading..."})}):((r=t==null?void 0:t.latestApproved)==null?void 0:r.length)===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center py-6 text-gray-500",children:"ðŸ˜ž No data found"})}):(p=t==null?void 0:t.latestApproved)==null?void 0:p.map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-6 py-4",children:s.title}),e.jsx("td",{className:"px-6 py-4",children:s.subcategory||"â€”"}),e.jsxs("td",{className:"px-6 py-4 flex gap-2",children:[e.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:["â†‘ ",s.upvotes||0]}),e.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:["â†“ ",s.downvotes||0]})]}),e.jsx("td",{className:"px-6 py-4",children:"..."})]},s.id))})]})})]})]}),e.jsx(T,{})]})};export{C as default};
